#!/bin/bash 
source ../common/requirements

MASTER_CPUS=0
WORKER_CPUS=(4) #An array, comma separated for mul. workers
CLIENT_CPUS=1,3,5,7,9,11,13,15,17,19,21,23

DRIVER_MEM=1g
EXECUTOR_MEM=4g

OUT=out #tmp folder that holds perf and benchmark result 
RESULTS=experiments
DEV=0

PLAT=$(get_platform)
if [[ $PLAT = "x86" ]]; then
    source ../common/events_x86
elif [[ $PLAT = "aarch64" ]]; then
    source ../common/events_aarch64
else
    echo "Platform unsupported"
    exit
fi

PERF_EVENTS=$INST,$CYCLES,$UOPS_RETIRED_U,$UOPS_RETIRED,$UOPS_STALLED

# sudo perf stat -e $PERF_EVENTS sleep 5
